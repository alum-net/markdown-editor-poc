{"version":3,"names":["parseStringWithUnitToNumber","addInlineImagePreview","addStyleToBlock","targetElement","type","markdownStyle","isMultiline","node","Object","assign","style","margin","padding","syntax","fontWeight","fontStyle","textDecoration","emoji","verticalAlign","display","mentionHere","mentionUser","mentionReport","link","addCodeBlockStyles","blockquote","borderLeftStyle","maxWidth","boxSizing","overflowWrap","h1","position","parentElement","cssText","defaultPrePadding","pre","preHorizontalPadding","paddingHorizontal","toString","preVerticalPadding","paddingVertical","defaultCodePadding","code","codeHorizontalPadding","codeVerticalPadding","fontSize","h1NestedFontSize","isChildOfMarkdownElement","lineHeight","BLOCK_MARKDOWN_TYPES","FULL_LINE_MARKDOWN_TYPES","MULTILINE_MARKDOWN_TYPES","isBlockMarkdownType","includes","isMultilineMarkdownType","getFirstBlockMarkdownRange","ranges","blockMarkdownRange","find","r","undefined","extendBlockStructure","currentInput","targetNode","currentRange","text","inlineImagesProps","isDescendantOfMarkdownElement","predicate","currentNode","parentNode","contentEditable","elementType","getAttribute","isChildOfMultilineMarkdownElement"],"sourceRoot":"../../../../src","sources":["web/utils/blockUtils.ts"],"mappings":";;AAEA,SAAQA,2BAA2B,QAAO,qBAAkB;AAE5D,SAAQC,qBAAqB,QAAO,iCAA8B;AAGlE,SAASC,eAAeA,CAACC,aAA0B,EAAEC,IAAc,EAAEC,aAAmC,EAAEC,WAAW,GAAG,IAAI,EAAE;EAC5H,MAAMC,IAAI,GAAGJ,aAAa;EAE1B,QAAQC,IAAI;IACV,KAAK,MAAM;MACTI,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;QACxBC,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE;MACX,CAAC,CAAC;MACF;IACF,KAAK,QAAQ;MACXJ,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAEL,aAAa,CAACQ,MAAM,CAAC;MAC/C;IACF,KAAK,MAAM;MACTN,IAAI,CAACG,KAAK,CAACI,UAAU,GAAG,MAAM;MAC9B;IACF,KAAK,QAAQ;MACXP,IAAI,CAACG,KAAK,CAACK,SAAS,GAAG,QAAQ;MAC/B;IACF,KAAK,eAAe;MAClBR,IAAI,CAACG,KAAK,CAACM,cAAc,GAAG,cAAc;MAC1C;IACF,KAAK,OAAO;MACVR,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;QACxB,GAAGL,aAAa,CAACY,KAAK;QACtBC,aAAa,EAAE,QAAQ;QACvBH,SAAS,EAAE,QAAQ;QAAE;QACrBC,cAAc,EAAE,MAAM;QAAE;QACxBG,OAAO,EAAE;MACX,CAAC,CAAC;MACF;IACF,KAAK,cAAc;MACjBX,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAEL,aAAa,CAACe,WAAW,CAAC;MACpD;IACF,KAAK,cAAc;MACjBZ,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAEL,aAAa,CAACgB,WAAW,CAAC;MACpD;IACF,KAAK,gBAAgB;MACnBb,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAEL,aAAa,CAACiB,aAAa,CAAC;MACtD;IACF,KAAK,MAAM;MACTd,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;QACxB,GAAGL,aAAa,CAACkB,IAAI;QACrBP,cAAc,EAAE;MAClB,CAAC,CAAC;MACF;IACF,KAAK,MAAM;IACX,KAAK,KAAK;MACRQ,kBAAkB,CAACrB,aAAa,EAAEC,IAAI,EAAEC,aAAa,EAAEC,WAAW,CAAC;MACnE;IACF,KAAK,YAAY;MACfE,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;QACxB,GAAGL,aAAa,CAACoB,UAAU;QAC3BC,eAAe,EAAE,OAAO;QACxBP,OAAO,EAAE,cAAc;QACvBQ,QAAQ,EAAE,MAAM;QAChBC,SAAS,EAAE,YAAY;QACvBC,YAAY,EAAE;MAChB,CAAC,CAAC;MACF;IACF,KAAK,IAAI;MACPrB,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;QACxB,GAAGL,aAAa,CAACyB,EAAE;QACnBhB,UAAU,EAAE;MACd,CAAC,CAAC;MACF;IACF,KAAK,OAAO;MACVN,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;QACxBS,OAAO,EAAE,OAAO;QAChBR,MAAM,EAAE,GAAG;QACXC,OAAO,EAAE,GAAG;QACZmB,QAAQ,EAAE;MACZ,CAAC,CAAC;MACF;IACF,KAAK,MAAM;MACT,IAAI,CAACzB,WAAW,IAAIH,aAAa,CAAC6B,aAAa,EAAEtB,KAAK,EAAE;QACtD;QACA,MAAMsB,aAAa,GAAG7B,aAAa,CAAC6B,aAAa;QACjDzB,IAAI,CAACG,KAAK,CAACuB,OAAO,GAAGD,aAAa,CAACtB,KAAK,CAACuB,OAAO;QAChDD,aAAa,CAACtB,KAAK,CAACuB,OAAO,GAAG,EAAE;MAClC;MACA;IACF;MACE;EACJ;AACF;AAEA,SAAST,kBAAkBA,CAACrB,aAA0B,EAAEC,IAAc,EAAEC,aAAmC,EAAEC,WAAW,GAAG,IAAI,EAAE;EAC/H,MAAMC,IAAI,GAAGJ,aAAa;EAE1B,MAAM+B,iBAAiB,GAAG7B,aAAa,CAAC8B,GAAG,EAAEvB,OAAO,IAAI,CAAC;EACzD,MAAMwB,oBAAoB,GAAGpC,2BAA2B,CAACK,aAAa,CAAC8B,GAAG,EAAEE,iBAAiB,IAAIH,iBAAiB,CAAC,CAACI,QAAQ,CAAC,CAAC;EAC9H,MAAMC,kBAAkB,GAAGvC,2BAA2B,CAACK,aAAa,CAAC8B,GAAG,EAAEK,eAAe,IAAIN,iBAAiB,CAAC,CAACI,QAAQ,CAAC,CAAC;EAE1H,MAAMG,kBAAkB,GAAGpC,aAAa,CAACqC,IAAI,EAAE9B,OAAO,IAAI,CAAC;EAC3D,MAAM+B,qBAAqB,GAAG3C,2BAA2B,CAACK,aAAa,CAACqC,IAAI,EAAEL,iBAAiB,IAAII,kBAAkB,CAAC,CAACH,QAAQ,CAAC,CAAC;EACjI,MAAMM,mBAAmB,GAAG5C,2BAA2B,CAACK,aAAa,CAACqC,IAAI,EAAEF,eAAe,IAAIC,kBAAkB,CAAC,CAACH,QAAQ,CAAC,CAAC;EAE7H,QAAQlC,IAAI;IACV,KAAK,MAAM;MACTI,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;QACxB,GAAGL,aAAa,CAACqC,IAAI;QACrBG,QAAQ,EAAExC,aAAa,CAACqC,IAAI,EAAEI,gBAAgB,IAAIC,wBAAwB,CAACxC,IAAI,EAAE,IAAI,CAAC,GAAGF,aAAa,CAACqC,IAAI,CAACI,gBAAgB,GAAGzC,aAAa,CAACqC,IAAI,EAAEG,QAAQ;QAC3JjC,OAAO,EAAE,GAAGgC,mBAAmB,MAAMD,qBAAqB,IAAI;QAC9DK,UAAU,EAAE;MACd,CAAC,CAAC;MACF;IACF,KAAK,KAAK;MACR;MACA,IAAI1C,WAAW,EAAE;QACfE,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;UACxB,GAAGL,aAAa,CAAC8B,GAAG;UACpBvB,OAAO,EAAE,GAAG2B,kBAAkB,MAAMH,oBAAoB;QAC1D,CAAC,CAAC;MACJ,CAAC,MAAM;QACL5B,MAAM,CAACC,MAAM,CAACF,IAAI,CAACG,KAAK,EAAE;UACxB,GAAGL,aAAa,CAACqC,IAAI;UACrB9B,OAAO,EAAE,GAAGgC,mBAAmB,MAAMD,qBAAqB,IAAI;UAC9DK,UAAU,EAAE;QACd,CAAC,CAAC;MACJ;MACA;IACF;MACE;EACJ;AACF;AAEA,MAAMC,oBAAoB,GAAG,CAAC,cAAc,CAAC;AAC7C,MAAMC,wBAAwB,GAAG,CAAC,YAAY,CAAC;AAC/C,MAAMC,wBAAwB,GAAG,CAAC,WAAW,CAAC;AAE9C,SAASC,mBAAmBA,CAAChD,IAAc,EAAE;EAC3C,OAAO6C,oBAAoB,CAACI,QAAQ,CAACjD,IAAI,CAAC;AAC5C;AAEA,SAASkD,uBAAuBA,CAAClD,IAAc,EAAE;EAC/C,OAAO+C,wBAAwB,CAACE,QAAQ,CAACjD,IAAI,CAAC;AAChD;AAEA,SAASmD,0BAA0BA,CAACC,MAAuB,EAAE;EAC3D,MAAMC,kBAAkB,GAAGD,MAAM,CAACE,IAAI,CAAEC,CAAC,IAAKP,mBAAmB,CAACO,CAAC,CAACvD,IAAI,CAAC,IAAI8C,wBAAwB,CAACG,QAAQ,CAACM,CAAC,CAACvD,IAAI,CAAC,CAAC;EACvH,OAAOqD,kBAAkB,IAAIP,wBAAwB,CAACG,QAAQ,CAACI,kBAAkB,CAACrD,IAAI,CAAC,GAAGwD,SAAS,GAAGH,kBAAkB;AAC1H;AAEA,SAASI,oBAAoBA,CAC3BC,YAAsC,EACtCC,UAAoB,EACpBC,YAA2B,EAC3BR,MAAuB,EACvBS,IAAY,EACZ5D,aAAmC,EACnC6D,iBAAyC,EACzC;EACA,QAAQF,YAAY,CAAC5D,IAAI;IACvB,KAAK,cAAc;MACjB,OAAOH,qBAAqB,CAAC6D,YAAY,EAAEC,UAAU,EAAEE,IAAI,EAAET,MAAM,EAAEnD,aAAa,EAAE6D,iBAAiB,CAAC;IACxG;MACE;EACJ;EAEA,OAAOH,UAAU;AACnB;AAEA,SAASI,6BAA6BA,CAAC5D,IAAiB,EAAE6D,SAA2C,EAAW;EAC9G,IAAIC,WAAW,GAAG9D,IAAI,CAAC+D,UAAU;EACjC,OAAOD,WAAW,IAAKA,WAAW,EAAkBE,eAAe,KAAK,MAAM,EAAE;IAC9E,MAAMC,WAAW,GAAIH,WAAW,CAAiBI,YAAY,GAAG,WAAW,CAAC;IAC5E,IAAIL,SAAS,CAACI,WAAW,CAAC,EAAE;MAC1B,OAAO,IAAI;IACb;IACAH,WAAW,GAAGA,WAAW,CAACC,UAAU;EACtC;EACA,OAAO,KAAK;AACd;AAEA,SAASvB,wBAAwBA,CAACxC,IAAiB,EAAEiE,WAAqB,EAAW;EACnF,OAAOL,6BAA6B,CAAC5D,IAAI,EAAGH,IAAI,IAAKA,IAAI,KAAKoE,WAAW,CAAC;AAC5E;AACA,SAASE,iCAAiCA,CAACnE,IAAiB,EAAW;EACrE,OAAO4D,6BAA6B,CAAC5D,IAAI,EAAGH,IAAI,IAAK+C,wBAAwB,CAACE,QAAQ,CAACjD,IAAgB,CAAC,CAAC;AAC3G;AAEA,SACEF,eAAe,EACf2D,oBAAoB,EACpBT,mBAAmB,EACnBE,uBAAuB,EACvBC,0BAA0B,EAC1BR,wBAAwB,EACxB2B,iCAAiC,EACjCvB,wBAAwB","ignoreList":[]}
