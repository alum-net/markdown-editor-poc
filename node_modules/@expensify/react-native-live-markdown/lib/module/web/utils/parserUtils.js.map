{"version":3,"names":["addNodeToTree","createRootTreeNode","updateTreeElementRefs","getCurrentCursorPosition","moveCursorToEnd","setCursorPosition","addStyleToBlock","extendBlockStructure","getFirstBlockMarkdownRange","isBlockMarkdownType","isMultilineMarkdownType","getAnimationCurrentTimes","updateAnimationsTime","sortRanges","ungroupRanges","splitTextIntoLines","text","lineStartIndex","lines","split","map","line","lineObject","start","length","markdownRanges","mergeLinesWithMultilineTags","currentLine","range","correspondingLineIndexes","mainLine","push","forEach","lineIndex","otherLine","undefined","splice","splitRangeIntoSeparateLines","mainLineRangeLength","rangeLength","currentLength","normalizeLines","ranges","mergedLines","lineIndexes","_line","index","beginLineIndex","findLastIndex","endLineIndex","findIndex","slice","mainLineIndex","otherLineIndexes","type","appendValueToElement","element","parentTreeNode","value","targetElement","parentNode","appendNode","node","appendChild","addBrElement","span","document","createElement","setAttribute","spanNode","addTextToElement","isMultiline","createTextNode","parentType","parentElement","dataset","includes","addParagraph","disableInlineStyles","p","pNode","addBlockWrapper","targetNode","markdownStyle","parseRangesToHTMLNodes","currentInput","inlineImagesProps","rootElement","textLength","rootNode","currentParentNode","dom","tree","sortedRanges","lastRangeEndIndex","shift","wasBlockGenerated","lineMarkdownRanges","endOfCurrentRange","nextRangeStartIndex","blockRange","substring","textBeforeRange","textAfterRange","moveCursor","isFocused","alwaysMoveCursorToTheEnd","cursorPosition","target","shouldScrollIntoView","updateInputStructure","parserFunction","cursorPositionIndex","shouldForceDOMUpdate","activeElement","selection","innerHTML","innerText","animationTimes"],"sourceRoot":"../../../../src","sources":["web/utils/parserUtils.ts"],"mappings":"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","ignoreList":[]}
