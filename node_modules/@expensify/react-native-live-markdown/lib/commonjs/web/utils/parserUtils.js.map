{"version":3,"names":["_treeUtils","require","_cursorUtils","_blockUtils","_animationUtils","_rangeUtils","splitTextIntoLines","text","lineStartIndex","lines","split","map","line","lineObject","start","length","markdownRanges","mergeLinesWithMultilineTags","currentLine","range","correspondingLineIndexes","mainLine","push","forEach","lineIndex","otherLine","undefined","splice","splitRangeIntoSeparateLines","mainLineRangeLength","rangeLength","currentLength","normalizeLines","ranges","mergedLines","lineIndexes","_line","index","beginLineIndex","findLastIndex","endLineIndex","findIndex","slice","mainLineIndex","otherLineIndexes","isMultilineMarkdownType","type","appendValueToElement","element","parentTreeNode","value","targetElement","parentNode","appendNode","node","addNodeToTree","appendChild","addBrElement","span","document","createElement","setAttribute","spanNode","addTextToElement","isMultiline","createTextNode","parentType","parentElement","dataset","includes","addStyleToBlock","addParagraph","disableInlineStyles","p","pNode","addBlockWrapper","targetNode","markdownStyle","parseRangesToHTMLNodes","currentInput","inlineImagesProps","rootElement","textLength","rootNode","createRootTreeNode","currentParentNode","dom","tree","sortedRanges","sortRanges","ungroupRanges","lastRangeEndIndex","shift","wasBlockGenerated","lineMarkdownRanges","endOfCurrentRange","nextRangeStartIndex","blockRange","getFirstBlockMarkdownRange","substring","textBeforeRange","extendBlockStructure","textAfterRange","isBlockMarkdownType","moveCursor","isFocused","alwaysMoveCursorToTheEnd","cursorPosition","target","shouldScrollIntoView","moveCursorToEnd","setCursorPosition","updateInputStructure","parserFunction","cursorPositionIndex","shouldForceDOMUpdate","activeElement","selection","getCurrentCursorPosition","innerHTML","innerText","animationTimes","getAnimationCurrentTimes","updateAnimationsTime","updateTreeElementRefs"],"sourceRoot":"../../../../src","sources":["web/utils/parserUtils.ts"],"mappings":"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","ignoreList":[]}
