{"version":3,"names":["Object","defineProperty","exports","value","groupRanges","sortRanges","splitRangesOnEmojis","ungroupRanges","getTagPriority","tag","ranges","sort","a","b","start","length","type","lastVisibleRangeIndex","reduce","acc","range","end","rangeWithSameStyleIndex","sameStyleRange","undefined","depth","push","ungroupedRanges","forEach","rangeWithoutDepth","Array","from","emojiRanges","filter","newRanges","i","j","currentRange","emojiRange","currentStart","currentEnd","emojiStart","emojiEnd","newRange"],"sourceRoot":"../../src","sources":["rangeUtils.ts"],"mappings":"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","ignoreList":[]}
